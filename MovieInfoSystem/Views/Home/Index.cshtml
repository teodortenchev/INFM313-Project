@model IndexServiceModel

@{
    ViewBag.Title = "Welcome";

    var movies = Model.Movies;

    var firstMovie = movies.Any() ? movies[0] : null;
    var secondMovie = movies.Count() > 1 ? movies[1] : null;
    var thirdMovie = movies.Count() > 2 ? movies[2] : null;

}
@if (!movies.Any())
{
    <div class="jumbotron">
        <h1 class=" text-center display-4">Hello, to the Movie info system!</h1>
        <br />
        <p class="text-center lead">There are no movies currently in the system, why don't you just add one ?</p>
        <br />
        <br />
        <p class=" text-center lead">
            <a class="btn btn-primary btn-lg" asp-controller="Movies" asp-action="Add" role="button">Add movie</a>
        </p>
    </div>
}
else
{
    <h5 class="font-italic text-center">Recently added</h5>
    <div class="mb-4"></div>
    <div class="container">
        <div class="row">
            <div class=" text-center col-md-6 col-sm-12 offset-md-3">
                <div class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        @if (firstMovie != null)
                        {
                            <div class="carousel-item active">
                                <img class="d-block w-100" height="550" src="@firstMovie.Image" alt="@firstMovie.Title">
                                <div class="carousel-caption d-none d-md-block">
                                    <p class="btn btn-dark"><a class="text-white" asp-controller="Movies" asp-action="Details" asp-route-id="@firstMovie.Id" alt="@firstMovie.Title">@firstMovie.Title</a></p>
                                </div>
                            </div>

                        }
                        @if (secondMovie != null)
                        {
                            <div class="carousel-item">
                                <img class="d-block w-100" height="550" src="@secondMovie.Image" alt="@secondMovie.Title">
                                <div class="carousel-caption d-none d-md-block">
                                    <p class="btn btn-dark"><a class="text-white" asp-controller="Movies" asp-action="Details" asp-route-id="@secondMovie.Id" alt="@secondMovie.Title">@secondMovie.Title</a></p>
                                </div>
                            </div>
                        }
                        @if (thirdMovie != null)
                        {
                            <div class="carousel-item">
                                <img class="d-block w-100" src="@thirdMovie.Image" height="550" alt="@thirdMovie.Title ">
                                <div class="carousel-caption d-none d-md-block">
                                    <p class="btn btn-dark"><a class="text-white" asp-controller="Movies" asp-action="Details" asp-route-id="@thirdMovie.Id" alt="@thirdMovie.Title">@thirdMovie.Title</a></p>
                                </div>
                            </div>
                        }

                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

}
<div class="mb-4"></div>
<h4 class="text-center font-italic">Statistics</h4>
<div class="container">
    <div class="row text-center">
        <table class=" table table-bordered">
            <thead>
                <tr>
                    <th scope="col">Total Movies</th>
                    <th scope="col">Total Actors</th>
                    <th scope="col">Total Directors</th>
                    <th scope="col">Total Users</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>@Model.TotalMovies</td>
                    <td>@Model.TotalActors</td>
                    <td>@Model.TotalDirectors</td>
                    <td>@Model.TotalUsers</td>
                </tr>
            </tbody>
        </table>

    </div>
</div>

